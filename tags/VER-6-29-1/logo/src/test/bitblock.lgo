LOAD "testlib.lgo

TO BITBLOCKTEST.SMOKETEST

  LOCALMAKE "oldfloodcolor FLOODCOLOR

  ; clear the screen to white
  SETSCREENCOLOR 7

  SETFLOODCOLOR 0
  BITBLOCK 100 50

  SETFLOODCOLOR 1
  BITBLOCK 50  100

  SETFLOODCOLOR 2
  BITBLOCK 1 1

  ; zero is legal, but nothing is drawn
  SETFLOODCOLOR 3
  BITBLOCK 0   50
  BITBLOCK 50  0
  BITBLOCK 0   0

  SETFLOODCOLOR :oldfloodcolor
END

TO BITBLOCKTEST.BADINPUT

   RUNBADINPUTTEST [ BITBLOCK [10] 10 ]
   RUNBADINPUTTEST [ BITBLOCK {10} 10 ]
   RUNBADINPUTTEST [ BITBLOCK -10 10 ]
   RUNBADINPUTTEST [ BITBLOCK "ten 10 ]

   RUNBADINPUTTEST [ BITBLOCK 10  [10] ]
   RUNBADINPUTTEST [ BITBLOCK 10  {10} ]
   RUNBADINPUTTEST [ BITBLOCK 10  -10  ]
   RUNBADINPUTTEST [ BITBLOCK 10  "ten ]

   RUNNOTENOUGHINPUTSTEST [ (BITBLOCK 10)             ]
   RUNTOOMANYINPUTSTEST   [ (BITBLOCK 10 10 "toomany) ]

   ; TODO: verify that nothing was drawn
END

TO BITBLOCKTEST
    BITBLOCKTEST.SMOKETEST
    BITBLOCKTEST.BADINPUT
END
