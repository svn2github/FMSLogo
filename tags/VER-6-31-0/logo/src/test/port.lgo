LOAD "testlib.lgo

TO INPORTTEST

  LOCAL "value

  MAKE "value INPORT 198
  REPORTTESTPASSED [INPORT did not crash]

  ; bad input
  RUNNOTENOUGHINPUTSTEST [(INPORT)]
  RUNBADINPUTTEST        [INPORT [192]]
  RUNBADINPUTTEST        [INPORT -1]
  RUNBADINPUTTEST        [INPORT {}]
  RUNBADINPUTTEST        [INPORT "hello]
  RUNTOOMANYINPUTSTEST   [(INPORT "198 "toomany)]

  MAKE "value INPORTB 198
  REPORTTESTPASSED [INPORTB did not crash]

  ; bad input
  RUNNOTENOUGHINPUTSTEST [(INPORTB)]
  RUNBADINPUTTEST        [INPORTB [192]]
  RUNBADINPUTTEST        [INPORTB -1]
  RUNBADINPUTTEST        [INPORTB {}]
  RUNBADINPUTTEST        [INPORTB "hello]
  RUNTOOMANYINPUTSTEST   [(INPORTB "198 "toomany)]
END

TO OUTPORTTEST

  OUTPORT 198 0
  REPORTTESTPASSED [OUTPORT did not crash]

  ; bad input
  RUNNOTENOUGHINPUTSTEST [(OUTPORT)]
  RUNNOTENOUGHINPUTSTEST [(OUTPORT 192)]
  RUNBADINPUTTEST        [OUTPORT [192]  0]
  RUNBADINPUTTEST        [OUTPORT -1     0]
  RUNBADINPUTTEST        [OUTPORT {}     0]
  RUNBADINPUTTEST        [OUTPORT "hello 0]
  RUNTOOMANYINPUTSTEST   [(OUTPORT 198 0 "toomany)]

  OUTPORTB 198 0
  REPORTTESTPASSED [OUTPORTB did not crash]

  ; bad input
  RUNNOTENOUGHINPUTSTEST [(OUTPORTB)]
  RUNNOTENOUGHINPUTSTEST [(OUTPORTB 192)]
  RUNBADINPUTTEST        [OUTPORTB  [192]  0]
  RUNBADINPUTTEST        [OUTPORTB  -1     0]
  RUNBADINPUTTEST        [OUTPORTB  {}     0]
  RUNBADINPUTTEST        [OUTPORTB  "hello 0]
  RUNTOOMANYINPUTSTEST   [(OUTPORTB 198 0 "toomany)]

END

TO PORTTEST
  INPORTTEST
  OUTPORTTEST
END

