load "testlib.lgo

TO RESIZECONSOLE :width :height

  ; Load the User System Kernel
  DLLLOAD "user32.dll

  ; Get Handle to Main Window (Note args are in REVERSE order)
  LOCALMAKE "hwnd DLLCALL [l FindWindowA s FMSLogo l 0]

  ; Resize Main Window
  LOCALMAKE "status DLLCALL (LIST "l "MoveWindow "w "1 "l :width "l :height "l "0 "l "0 "l :hwnd)

  DLLFREE

END


TO BENCHMARK 

   RESIZECONSOLE 600 800 ; for consistent results

   ; time drawing concentric circles
   CLEARSCREEN
   IGNORE TIMECOMMAND [REPEAT 1000  [ CIRCLE REPCOUNT ] ]

   ; time drawing a large squiral
   CLEARSCREEN
   IGNORE TIMECOMMAND [REPEAT 20000 [ FORWARD REPCOUNT RIGHT 91 ] ]

   ; time creating/manipulating a large list
   IGNORE TIMECOMMAND [REVERSE ISEQ 1 30000 ]

END

make "startup [BENCHMARK]

