LOAD "testlib.lgo

TO TIMERTEST.SMOKETEST
   SETSCREENCOLOR 1

   SETTIMER 31 100 [SETSCREENCOLOR (SCREENCOLOR + 1)]
   WAIT 60
   CLEARTIMER 31

   SETSCREENCOLOR 7
END

TO TIMERTEST.BADINPUT

   ;
   ; bad input for SETTIMER
   ;
   RUNBADINPUTTEST  [SETTIMER  0        100       [FD 1]]
   RUNBADINPUTTEST  [SETTIMER 32        100       [FD 1]]
   RUNBADINPUTTEST  [SETTIMER 1.5       100       [FD 1]]
   RUNBADINPUTTEST  [SETTIMER "badvalue 100       [FD 1]]
   RUNBADINPUTTEST  [SETTIMER [1]       100       [FD 1]]
   RUNBADINPUTTEST  [SETTIMER {1}       100       [FD 1]]

   RUNBADINPUTTEST  [SETTIMER 1         -100      [FD 1]]
   RUNBADINPUTTEST  [SETTIMER 1         100.5     [FD 1]]
   RUNBADINPUTTEST  [SETTIMER 1         [100]     [FD 1]]
   RUNBADINPUTTEST  [SETTIMER 1         "badvalue [FD 1]]
   RUNBADINPUTTEST  [SETTIMER 1         {100}     [FD 1]]

   RUNNOTENOUGHINPUTSTEST [(SETTIMER 1 100)]
   RUNTOOMANYINPUTSTEST   [(SETTIMER 1 100 [FD 1] "toomany)]

   ;
   ; bad input for CLEARTIMER
   ; 
   RUNBADINPUTTEST  [CLEARTIMER 33] ; illegal value
   RUNBADINPUTTEST  [CLEARTIMER 32] ; non-existent

   RUNNOTENOUGHINPUTSTEST [(CLEARTIMER)]
   RUNTOOMANYINPUTSTEST   [(CLEARTIMER 1 "toomany)]

END

TO TIMERTEST

   TIMERTEST.SMOKETEST
   TIMERTEST.BADINPUT

END
